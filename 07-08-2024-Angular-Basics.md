#### Environment Setup

Install TypeScript and Angular CLI
```
npm i -g typescript
npm i -g @angular/cli
```

#### Angular Workflow

Generate new Angular application
```
ng new <app name>
```

Add additional libraries
```
npm i <module>
```

Start development server
```
ng serve -o
```

Generate one or more components
```
ng generate component <name>
```

Write one or more service
Build final application
```
ng build --prod
```

#### Angular Project Directory

Generated by ng new
- package.json - list of installed modules
- angular.json - CLI config file
- src - application source
	- Bootstrap
		- index.html, main.ts
	- Global stylesheet
		- styles.css
	- asset directory for images etc.
	- app directory
		- app.module.ts
		- app.component.ts, app.component.css, app.component.html

#### Angular Module

Angular modules are a logical grouping of components, services, directives, pipes etc.
Modules are opaque (not visible to external) unless exported
Modules can use components from other modules by importing
`@NgModule` annotation is used to declare a class as a module

Declaring a module :
```
@NgModule({
	declarations: [ AppComponent ], // Makes a component available within module
	imports: [ BrowserModule ], // Makes exported component available in this module
	exports: [ ], // Makes component from this module available to other modules
	providers: [ ], // Provide a service to all components/services in this module
	bootstrap: [ AppComponent ] // Component to bootstrap if module is started
})
export class AppModule { }
```

#### Angular Components

Angular Components are reusable UI building blocks
Component is made up of :
- HTML Fragment (UI)
- CSS (Style)
- TypeScript class (Behavior)
They are created with the `@Component` annotation

To create a component we run the following command in the CLI :
`ng g c components/cart --spec false --flat`

The above commands will perform the following actions :
- Update the AppModule to add the Component class into the declarations array
- Generate the following files under src/app/components
	- cart.component.ts
	- cart.component.html
	- cart.component.css

The component class looks like the following :
```
@Component({
	selector: 'app-root', // specifies the tag that instantiates the component
	templateUrl: './app.component.html', // specifies the HTML that defines structure
	styleUrls: [
		`./app.component.css` // one or more CSS
	]
})
export class AppComponent {

}
```

Accessing Properties in the component class can be done in the template and displayed using `{{ }}`
Changes in the properties are immediately reflected in the template

e.g. in the html file we can access title using `<h1> {{ title }} </h1>` for the following component :
```
@Component({
	templateUrl:
		`app.component.html`
})
export class AppComponent {
	title = "Hi"
}
```


#### Angular Property and Event Binding

Any HTML attribute can be bound to component's properties by surrounding attribute name with `[ ]` :
e.g. 
```
<input [value]="name">
<button type="button" [disable]="isDisabled"></button>
<p [style.font-size]="fontSize">
	{{ greetings }}
</p>
```

We can bind HTML events with `( )` to a method in the component class and drop the on when binding to events e.g. `onClick` becomes `(click)`.
We pass `$event` into the function to get the event object
e.g.
```
<p [style.font-size]="fontSize">
	{{ greetings }}
</p>
<input type="range" min="1" max="10" step="0.1" (change)="fontSizeChanged($event)">
```

```
export class AppComponent {
	greetings = 'Hello World';
	fontSize = '1em';
	fontSizeChanged($event) {
		this.fontSize = `${$event.target.value}em`;
	}
}
```

To allow for binding by other components (e.g. sharing data between a parent component and one or more child components) we annotate class members with :
- `@Input()` for attribute
- `@Output()` for event - EventEmitter type

`@Input()` and `@Output()` gives a child component a way to communicate with its parent component where `@Input()` lets a parent component update data in the child component and `@Output()` lets the child send data to a parent component

#### Angular Directives and Life Cycle

Directives are ways to extend HTML capabilities e.g. conditionally apply CSS.
Directives typically start with `ng`
Two types of directives :
- Non-structural which enhances an elements
	- `ngClass` Conditional Styling
```
<input type="text"
	[disabled]="isDisabled"
	[ngClass]="{ 'grey-border': isDisabled, 'blue-border': !isDisabled }"
```
- Structural which adds or removes HTML elements
	- pre-fixed with a * (e.g. `*ngIf*`)
	- `*ngIf` Conditional Display
```
<div *ngIf="cart.length <= 0">
	Your cart is empty
</div>
<div *ngIf="cart.length > 0">
	Your cart has {{ cart.length }} items
</div>
```
	- `*ngFor` For Loops
```
<ul>
	<li
		*ngFor="let item of cart; let i = index;"
		[ngClass]="{ shaded: (i % 2) }">
		{{ item }}
	</li>
</ul>
```

Angular provides a few lifecycle hooks to perform operations on e.g. :
- OnInit
	- Called just after the component is created but before displaying
- OnDestroy
	- Called just before the component is destroyed
```
import { OnInit, OnDestroy } from '@angular/core';

export class AppComponent implements OnInit, OnDestroy {
	ngOnInit() {
	}

	ngOnDestroy() {
	}
}
```